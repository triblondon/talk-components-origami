<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Origami workshop - Andrew Betts</title>

		<meta name="description" content="A presentation about the FT's new Origami component strategy">
		<meta name="author" content="Andrew Betts">
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/ftlabs.css" id="theme">
		<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<style>
		.animate-list {
			width:500px !important;
			margin-top: 0 !important;
			transition: margin-top 20s ease 2s !important;
		}
		.present .animate-list {
			margin-top: -570% !important;
		}
		</style>

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>
	<div class='pointer'></div>

		<div class="reveal">
			<div class="slides">

				<section>
					<h2>Today's schedule</h2>
					<table>
					<tr><td>1500</td><td><strong>Origami Overview</strong></td><td>Andrew</td></tr>
					<tr><td>1540</td><td><strong>UI components</strong></td><td>Alberto</td></tr>
					<tr><td>1620</td><td><strong>Web services</strong></td><td>Sam</td></tr>
					<tr><td>1640</td><td><strong>Hands-on workshops</strong></td><td>Andrew, Alberto, Sam, Kaelig</td></tr>
					</table>
				</section>

				<section class='logo-title dark-background' data-background='css/theme/ftlabs_images/purple-blue-2.jpg'>
					<h1>Origami workshop</h1>
					<h3>A practical journey to Web Components</h3>
					<p>
						<small>by Andrew Betts, FT Labs (<a href="http://trib.tv">trib.tv</a> / <a href="http://twitter.com/triblondon">@triblondon</a>)</small>
					</p>
					<aside class='notes'>This talk is about the FT's journey to web components.  It turns out that basing your whole architecture on components means changing not just a lot of your development practice, but also the way that we do design and product development too.  I realised there's a chance that this talk will make me look like the kind of guy that shouts randomly at birds in the park.</aside>
				</section>

				<section class='dark-background big-quote' data-background='css/theme/ftlabs_images/blue-green-yellow.jpg'>
					<h1>Challenges</h1>
					<blockquote>Building websites is harder today than ever before.  Why?</blockquote>
				</section>

				<section>
					<h2>Multiple formats</h2>
					<p><img src='content/origami.png' class='stretch' style='box-shadow:none' /></p>
					<aside class="notes">Anyway, let's start with where we stand today and figure out why components are the way forward.  Each web project is becoming more complex, our brand is increasingly a digital one, and people are interacting with it on a greater range of devices, increasing our testing cost.</aside>
				</section>

				<section>
					<h2>Multiple formats</h2>
					<p><img src='content/traffic.png' /></p>
				</section>

				<section>
					<p><img src='content/swissotel-select.png' class='animate-list' /></p>
				</section>

				<section>
					<h2>Better usability</h2>
					<p><img src='content/alice-selectbox.png' /></p>
				</section>

				<section class='dark-background big-quote' data-background='css/theme/ftlabs_images/purple-blue.jpg'>
					<blockquote>We are not here to do <strong>easy things</strong> for people who are <strong>like us</strong></blockquote>
					<cite>Alice Bartlett</cite>
				</section>

				<section class='dark-background' data-background='content/delays.png'>
				</section>

				<section class='dark-background big-quote' data-background='css/theme/ftlabs_images/blue-green-yellow.jpg'>
					<h1>Problems at FT</h1>
					<blockquote>Meeting the challenges of modern front end development can lead to problems</blockquote>
				</section>

				<section>
					<h2>Problems</h2>
					<ul class='steplist'>
						<li>Repeating work</li>
						<li>Unable to let go of old tech</li>
						<li>Experts needed everywhere</li>
						<li>Square pegs, round holes</li>
						<li>Learning 'cliff'</li>
					</ul>
				</section>

				<section class='dark-background' data-background='content/buttons.jpg'></section>

				<section class='dark-background big-quote' data-background='css/theme/ftlabs_images/blue-green-yellow.jpg'>
					<h1>Goals</h1>
					<blockquote>What should we be aiming for?</blockquote>
				</section>

				<section class='dark-background' data-background='css/theme/ftlabs_images/blue-orange-yellow.jpg'>
					<h1>Consistent brand experience</h1>
				</section>

				<section data-state='rwd-demo'>
					<h2>Not just about being responsive</h2>
					<p>(we have lots of websites to make responsive)</p>
					<iframe id='guardianiframe' src='http://www.theguardian.com/uk?view=mobile' class='stretch' style='margin: 0 auto; transition: width 1s'></iframe>
					<aside class="notes">Many media companies already have responsive websites, Guardian a great example.  But being responsive is not our biggest challenge.  There are far more important things to establish a healthy web development ecosystem.</aside>
				</section>

				<section>
					<h2>Living style guides</h2>
					<img src='content/codeforamerica.png' class='stretch' />
					<aside class="notes">Living style guides provide reference implementations of UI designs so everyone is using the same code.  Already moving in the right direction.  (Code for America design by ClearLeft)</aside>
				</section>

				<section>
					<h2>Objectives</h2>
					<div class='two-col'>
						<p><strong>Components</strong></p>
						<p><strong>Standards</strong></p>
						<p><strong>Collaboration</strong></p>
						<p><strong>Encapsulation</strong></p>
					</div>
					<aside class='notes'>But not frameworks</aside>
				</section>

				<section data-background='content/legacy.jpg'>
					<h1 class='glow'>Works with the old stuff</h1>
					<aside class='notes'>We have 600 domains, 800 subdomains of ft.com.  We have millions of readers who like those sites, so we should be able to apply the benefits of the new stuff to those older sites.</aside>
				</section>

				<section data-background='content/monolith.png'>
					<h1 class='glow'>Don't build a monolith</h1>
					<aside class='notes'>A lot of things we looked at were big, centralised solutions.  I've learned over the years that if you make a 'core' thing and make it a dependency of everything you do, it becomes a liability.</aside>
				</section>

				<section data-background='content/evolutionweb.png'>
					<h1 class='glow'>Raise the bar</h1>
					<aside class='notes'>Current bar: noscript.  Progressive enhance, from where?  Choose a new baseline a few years old.  Rolling window of support for primary functionality.</aside>
				</section>

				<section data-background='content/bigredbutton.jpg'>
					<h1 class='glow'>Make it easy</h1>
					<aside class='notes'>Hate: frameworks, opinionated solutions, 'beautiful' things.  Love: Tools to support standards.  Make it push-button easy to use the standard stuff</aside>
				</section>

				<section>
					<h2>Full set of principles available at <a href='http://origami.ft.com/docs/overview/principles'>origami.ft.com<wbr/>/docs/overview/principles</a></h2>
				</section>

				<section class='dark-background big-quote' data-background='css/theme/ftlabs_images/blue-green-yellow.jpg'>
					<h1>The Origami way</h1>
					<blockquote>How does Origami meet these goals?</blockquote>
				</section>

				<section>
					<h2>Origami is...</h2>
					<ul>
						<li>A Specification (<a href='http://origami.ft.com'>origami.ft.com</a>)</li>
						<li>Tools<ul>
							<li>Registry</li>
							<li>Build service</li>
						</ul></li>
						<li>Components!<ul>
							<li>Modules (installable packages)</li>
							<li>Web services (APIs)</li>
						</ul></li>
					</ul>
				</section>

				<section class='dark-background big-quote' data-background='css/theme/ftlabs_images/blue-green-yellow.jpg'>
					<h1>The spec</h1>
					<blockquote><strong>Agree a standard</strong> for building modules and services</blockquote>
				</section>

				<section>
					<h2>Module build pattern</h2>
					<img src='content/build.png' class='stretch' style='box-shadow:none' />
					<aside class='notes'>Bower because does not require package to be aware of it, does not require registry (and still supports semver) and dedupes deps by default.  CommonJS+browserify because we have a preference for bundles over incremental loading, atomic runtime code, works offline.  SASS simply due to overwhelming popularity.</aside>
				</section>

				<section>
					<section>
						<h2>"Cutting the mustard"</h2>
						<img src='content/browsersupport.svg' class='stretch' style='box-shadow:none' />
						<p>A simple logical test that sets a <strong>movable</strong> bar for running application JavaScript</p>
						<aside class='notes'>Set a CTM test for each product, above is primary, below is core.</aside>
					</section>
					<section>
						<code>if ('querySelector' in document &amp;&amp; 'localStorage' in window &amp;&amp; 'addEventListener' in window) { ... }</code>
					</section>
				</section>

				<section>
					<h2>Syntax and encapsulation (JS)</h2>
					<ul>
						<li>No globals</li>
						<li>No modifying DOM on parse (or outside of <strong>owned DOM</strong>)</li>
						<li>Namespace events</li>
						<li>jsHint</li>
					</ul>
				</section>

				<section>
					<h2>Syntax and encapsulation (CSS)</h2>
					<ul>
						<li>Namespace prefixes for classes<ul>
							<li>No styling out of namespace</li>
						</ul></li>
						<li>No IDs, ever</li>
						<li>Minimise specificity.  Use BEM or descendent selectors<ul>
							<li><code>o-tweet__avatar--verified</code></li>
							<li><code>o-tweet > p</code></li>
						</ul></li>
						<li>Consider <strongs>states</strongs> (use ARIA):<ul>
							<li>hover, focus, busy, selected, disabled, active, invalid, pressed, expanded</li>
						</ul></li>
						<li>Express responsive behaviours by exposing mixins, not using media queries:<ul>
							<li><code>o-tweet--large</code>, <code>o-tweet--small</code></li>
						</ul></li>
					</ul>
				</section>

				<section><img src='http://triblondon.github.io/talk-origami/content/semver.png' class='stretch'></section>

				<section class='dark-background big-quote' data-background='css/theme/ftlabs_images/blue-green-yellow.jpg'>
					<h1>The tools</h1>
					<blockquote><strong>Make it easy</strong> to comply with the spec requirements</blockquote>
				</section>

				<section>
					<h2>Build tool</h2>
					<p style='margin: 2em 0; '>
					<code style='background-color: black; color: white'>&gt; origami-build-tools install</code>
					</p>
					<p>Build modules in your own product</p>
					<p>Serve them locally</p>
					<p>Compile as part of your own JavaScript and CSS bundles</p>
					<p>Auto-install all dependencies, tools, linters etc.</p>
				</section>

				<section class='dark-background' data-background='content/obt.jpg'></section>
				<section class='dark-background' data-background='content/obt-gulp.jpg'></section>

				<section>
					<h2>Registry</h2>
					<p>Scan known git servers</p>
					<p>Index version tags</p>
					<p>Build every version of every module</p>
					<p>Collect all the info on one page</p>
					<p>Act as a directory of web services</p>
					<p>Origami registry is <a href='http://registry.origami.ft.com'>public on the web</a> so anyone can collaborate with us</p>
					<aside class='notes'>Move into demo - colors, header, tweet, responsive image service</aside>
				</section>

				<section>
					<h2>Build service</h2>
					<p style='margin: 2em 0'><code>http://build.origami.ft.com/bundles/js<br/>?modules=o-tweet,o-ft-header@^1.3.7,o-hoverable@2</code></p>
					<p>Build any combination of modules <strong>on demand</strong></p>
					<p>Build, bundle, compress, optimise, serve through CDN (gzipped)</p>
					<p>Lock to a version or <strong>automatically upgrade</strong> with semver-compliant versioning</p>
					<p>Allow developers to work <strong>without a build step</strong></p>
				</section>

				<section class='dark-background big-quote' data-background='css/theme/ftlabs_images/blue-green-yellow.jpg'>
					<h1>Build process walkthrough</h1>
					<blockquote>Build a page using Origami components</blockquote>
				</section>

				<section class='logo-title dark-background' data-background='css/theme/ftlabs_images/purple-blue-2.jpg'>
					<h1>That's it!</h1>
					<h3>Contact me:</h3>
					<ul>
						<li>Email: <a href='mailto:andrew@labs.ft.com'>andrew@labs.ft.com</a></li>
						<li>Twitter: <a href='http://twitter.com/@triblondon'>@triblondon</a>, <a href='http://twitter.com/@ftlabs'>@ftlabs</a></li>
					</ul>
					<p style='margin-top: 50px'>For jobs in London, visit <a href='http://labs.ft.com/jobs'>labs.ft.com/jobs</a></p>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>
		<script src="lib/js/chart.min.js"></script>

		<script>
			Reveal.initialize({
				width: 1280,
    			height: 800,
				controls: false,
				progress: true,
				history: true,
				center: true,
				theme: 'ftlabs',
				transition: 'concave',
				backgroundTransition: 'slide',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});
			Reveal.addEventListener('slidechanged', function(e) {
				if (e.currentSlide.classList.contains('big-quote')) {
					var h1 = e.currentSlide.querySelector('h1');
					if (h1 && !e.currentSlide.querySelector('span.bghead')) {
						var bgh1 = document.createElement('span');
						bgh1.classList.add('bghead');
						bgh1.innerHTML = h1.innerHTML;
						h1.parentNode.appendChild(bgh1);
					}
				}
			});

			// Charts
			Reveal.addEventListener('chart1', function(e) {
				var crt = document.getElementById("chart1");
				crt.style.width = (crt.width = crt.parentNode.offsetWidth)+'px';
				crt.style.height = (crt.height = crt.parentNode.offsetHeight)+'px';
				new Chart(crt.getContext("2d")).Line({
					labels : ["2011", "", "", "", "2012", "", "", "", "2013", "", ""],
					datasets : [
						{
							strokeColor : "#00A9E0",
							fillColor: 'none',
							data : [381659, 356196, 344583, 333772, 319381, 297227, 287894, 286401, 273048, 258488, 241886]
							},
						{
							strokeColor : "#FFA02F",
							fillColor: 'none',
							data : [223743, 229485, 247807, 267497, 285475, 301471, 312538, 315918, 328306, 343408, 386871]
						}
					]
				}, {
					scaleOverlay: true,
					scaleOverride: true,
					scaleSteps: 10,
					scaleStepWidth : 50000,
					scaleStartValue: 0,
					bezierCurve: false,
					scaleLineColor : "rgba(0,0,0,.3)",
					scaleFontSize : 25,
					datasetFill: false
				});
			});

			// Charts
			Reveal.addEventListener('rwd-demo', function(e) {
				var ifr = document.getElementById("guardianiframe");
				function move() {
					setTimeout(function() {
						var w = ifr.offsetWidth;
						ifr.style.width = ((Math.random() * 800) + 400) + 'px';
						if (document.documentElement.className.indexOf('rwd-demo') !== -1) move();
					}, 3000);
				}
				move();
			});

		</script>

	</body>
</html>
